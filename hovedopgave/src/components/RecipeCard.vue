<script setup>
import { useRouter } from 'vue-router';

const props = defineProps({ recipe: Object });
const router = useRouter();

const openPDP = () => {
  if (props.recipe?.id) {
    router.push({ name: 'PDP', params: { id: props.recipe.id } });
  } else {
    console.warn('Kan ikke åbne PDP – mangler recipe.id:', props.recipe);
  }
};

</script>

<template>
  <div class="card" @click="openPDP">
    <div class="card-top">
        <div class="card-image-wrapper"> 
        </div>
        <div class="card-content">
            <h3>{{ recipe.navn }}</h3>
            <div class="card-list">
                <div class="card-list-item">
                    <svg width="16" height="16" viewBox="0 0 24 24">
                        <path class="i-fill-black" d="M11.5 3C14.0196 3 16.4359 4.00089 18.2175 5.78249C19.9991 7.56408 21 9.98044 21 12.5C21 15.0196 19.9991 17.4359 18.2175 19.2175C16.4359 20.9991 14.0196 22 11.5 22C8.98044 22 6.56408 20.9991 4.78249 19.2175C3.00089 17.4359 2 15.0196 2 12.5C2 9.98044 3.00089 7.56408 4.78249 5.78249C6.56408 4.00089 8.98044 3 11.5 3ZM11.5 4C9.24566 4 7.08365 4.89553 5.48959 6.48959C3.89553 8.08365 3 10.2457 3 12.5C3 14.7543 3.89553 16.9163 5.48959 18.5104C7.08365 20.1045 9.24566 21 11.5 21C12.6162 21 13.7215 20.7801 14.7528 20.353C15.7841 19.9258 16.7211 19.2997 17.5104 18.5104C18.2997 17.7211 18.9258 16.7841 19.353 15.7528C19.7801 14.7215 20 13.6162 20 12.5C20 10.2457 19.1045 8.08365 17.5104 6.48959C15.9163 4.89553 13.7543 4 11.5 4ZM11 7H12V12.42L16.7 15.13L16.2 16L11 13V7Z"/>
                    </svg>
                    <p class="xs-regular">{{ recipe.tidsestimat }}</p>
                </div>
                <div class="card-list-item">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle class="i-str-black" cx="12" cy="7" r="4.5"/>
                    <path class="i-str-black" d="M14 14.5C17.0376 14.5 19.5 16.9624 19.5 20C19.5 20.2761 19.2761 20.5 19 20.5H5C4.72386 20.5 4.5 20.2761 4.5 20C4.5 16.9624 6.96243 14.5 10 14.5H14Z" stroke-linejoin="round"/>
                    </svg>
                    <p class="xs-regular">4 pers.</p>
                </div>
                <div class="card-list-item">
                    <svg width="16" height="16" viewBox="0 0 24 24">
                    <path class="i-fill-black" d="M10.788 3.1176C10.8133 2.9641 10.7779 2.80681 10.6894 2.67888C10.6009 2.55096 10.4662 2.4624 10.3136 2.43189C10.1611 2.40139 10.0027 2.43131 9.8718 2.51536C9.7409 2.59941 9.64776 2.731 9.61202 2.8824L8.50802 8.4048H4.20002C4.04089 8.4048 3.88828 8.46801 3.77576 8.58053C3.66324 8.69306 3.60002 8.84567 3.60002 9.0048C3.60002 9.16393 3.66324 9.31654 3.77576 9.42906C3.88828 9.54158 4.04089 9.6048 4.20002 9.6048H8.26802L7.30802 14.3964H3.00002C2.84089 14.3964 2.68828 14.4596 2.57576 14.5721C2.46324 14.6847 2.40002 14.8373 2.40002 14.9964C2.40002 15.1555 2.46324 15.3081 2.57576 15.4207C2.68828 15.5332 2.84089 15.5964 3.00002 15.5964H7.06802L6.01202 20.8824C5.99352 20.9608 5.99099 21.0421 6.00457 21.1215C6.01816 21.2008 6.04758 21.2767 6.09109 21.3444C6.1346 21.4122 6.19131 21.4705 6.25783 21.5159C6.32436 21.5613 6.39934 21.5928 6.47831 21.6086C6.55727 21.6244 6.63861 21.6241 6.71747 21.6078C6.79634 21.5915 6.87111 21.5595 6.93734 21.5137C7.00356 21.4679 7.05989 21.4092 7.10296 21.3411C7.14603 21.2731 7.17496 21.1971 7.18802 21.1176L8.29202 15.5964H14.2968L13.212 20.88C13.1802 21.0359 13.2116 21.1981 13.2994 21.3309C13.3872 21.4637 13.5241 21.5562 13.68 21.588C13.836 21.6198 13.9982 21.5884 14.131 21.5006C14.2637 21.4129 14.3562 21.2759 14.388 21.12L15.522 15.5964H19.8036C19.9628 15.5964 20.1154 15.5332 20.2279 15.4207C20.3404 15.3081 20.4036 15.1555 20.4036 14.9964C20.4036 14.8373 20.3404 14.6847 20.2279 14.5721C20.1154 14.4596 19.9628 14.3964 19.8036 14.3964H15.768L16.752 9.606H21C21.1592 9.606 21.3118 9.54278 21.4243 9.43026C21.5368 9.31774 21.6 9.16513 21.6 9.006C21.6 8.84687 21.5368 8.69426 21.4243 8.58173C21.3118 8.46921 21.1592 8.406 21 8.406H16.9992L18.0804 3.1368C18.0963 3.05958 18.0967 2.98 18.0818 2.9026C18.0669 2.8252 18.0369 2.7515 17.9935 2.6857C17.9501 2.6199 17.8941 2.56329 17.8289 2.51911C17.7636 2.47493 17.6902 2.44404 17.613 2.4282C17.5358 2.41236 17.4562 2.41189 17.3788 2.42681C17.3014 2.44172 17.2277 2.47174 17.1619 2.51514C17.029 2.6028 16.9364 2.73965 16.9044 2.8956L15.774 8.4048H9.73082L10.788 3.1176ZM9.49202 9.6048H15.528L14.544 14.3964H8.53202L9.49202 9.6048Z"/>
                    </svg>
                    <p class="xs-regular"> {{ recipe.antalIngredienser }} ingredienser </p>
                </div>
            </div>
        </div>
    </div>
  </div>
</template>

<style scoped>

.card {
    border-radius: 4px;
    background: var(--color-surface-white);
    box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.15);
    display: flex;
    min-width: 177px;
    padding: 8px;
    flex-direction: column;
    align-items: flex-start;
    gap: 8px;
    align-self: stretch;
}

.card-content {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.card-list {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.card-list-item {
    display: flex;
    gap: 4px;
}

h3 {
    color: var(--color-text-black);
}

p {
    color: var(--color-text-grey-default);
}

.xs-regular {
    margin-top: 2px;
}

.i-fill-black {
    fill: var(--color-icon-grey-default);
}

.i-str-black {
    stroke: var(--color-icon-grey-default);
}

</style>

